BUILD
=====

The build of this application is also based on another tool of mine
<https://github.com/rafael-santiago/hefesto>. If you want to build
the application by running the whole tests you need 'Hefesto',
otherwise you are on your own and you do not need this document
for any help.

Now, supposing that you have installed 'Hefesto' in your build
environment. You need to clone another repo of mine called 'Helios'
so execute the following commands:

-----------------------------------------------------------------------
you@Hellfire:~/src# git clone https://github.com/rafael-santiago/helios
you@Hellfire:~/src# cd helios
you@Hellfire:~/src/helios# hefesto --install=forge-bootstrapper,\
> lnx-module-toolset,freebsd-module-toolset,netbsd-module-toolset,\
> gnu-c-toolset,clang-c-toolset,c-dep-scanner
you@Hellfire:~/src/helios# cd ..
you@Hellfire:~/src# rm -rf helios
you@Hellfire:~/src# _
-----------------------------------------------------------------------

You need (of course) to clone this repo:

-------------------------------------------------------------------------------------
you@Hellfire:~/src# git clone https://github.com/rafael-santiago/blackcat --recursive
you@Hellfire:~/src# _
-------------------------------------------------------------------------------------

Now it is only about launching the build:

-----------------------------------------
you@Hellfire:~/src# cd blackcat/src
you@Hellfire:~/src/blackcat/src# hefesto
-----------------------------------------

Go walk your dog, because it can take a while at first time. Once
well-succeeded you can use the binary under 'blackcat/bin'. However, I would
recommend you to install it and make 'blackcat' accessible in the entire system.

If you have some restriction (personal or legal) related to usage of some
available cipher you should pull out this cipher from the build option
'--with-ciphers'. By default all ciphers are included for compilation anyway
you should watch your restrictions.

In order to know what ciphers are currently available use the build option
'--avail-ciphers':

--------------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --avail-ciphers
--------------------------------------------------------

To overwrite the default '--with-ciphers' option you should pass this option
when calling the build by passing your desired ciphers:

------------------------------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --with-ciphers=aes,des,blowfish
------------------------------------------------------------------------

If you do not have the sources of your operating system in order to compile the
device driver or simply you do not want it, use the build option  '--no-dev'.

-------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --no-dev
-------------------------------------------------

In NetBSD you need to create the device node and also define by yourself the
major number of the device. The default number is 210 if you want to define
a different one use the build option --dev-major=<number>. In this case,
if a previous /dev/blackcat node exists, it will be deleted and a new node
will be created.

Building some modules only is possible by using the build option 'modules':

--------------------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --modules=base,fs,cmd
--------------------------------------------------------------

The blackcat's modules are some sub-directories under the toplevel src
directory.

If you want to build the socket module as a no thread safe library,
just use the option '--no-thread-safe':

--------------------------------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --modules=socket --no-thread-safe
--------------------------------------------------------------------------

or simply

---------------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --no-thread-safe
---------------------------------------------------------

If you want to skip the net module tests:

---------------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --skip-net-tests
---------------------------------------------------------

To skip any keyboard related test use the build option '--skip-kbd-tests':

---------------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --skip-kbd-tests
---------------------------------------------------------

In order to install:

--------------------------------------------------
you@Hellfire:~/src/blackcat/src# hefesto --install
--------------------------------------------------

You done here, now you should read the file 'MANUAL.txt'.
